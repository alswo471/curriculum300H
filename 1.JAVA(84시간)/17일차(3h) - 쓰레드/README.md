# 쓰레드

## 프로세스와 쓰레드
- 프로세스란 간단히 말해서 **실행 중인 프로그램(program)**이다. 프로그램을 실행하면 OS로 부터 실행에 필요한 자원(메모리)를 할당 받아 프로세스가 된다.
- 프로세스는 프로그램을 수행하는 데 필요한 **데이터**와 **메모리**등의 자원 그리고 **쓰레드**로 구성되어 있다.
- 프로세스의 자원을 이용해서 실제로 작업을 수행하는 것이 **쓰레드**이다.
- 모든 프로세스에는 최소한 하나 이상의 쓰레드가 존재하며, 둘 이상의 쓰레드를 가진 프로세스를 **멀티쓰레드 프로세스\(multi-threaded process\)**라고 한다.
- 하나의 프로세스가 가질 수 있는 쓰레드의 개수는 제한되어 있지 않으나 쓰레드가 작업을 수행하는데 **개별적인 메모리 공간\(호출 스택\)**을 필요로 하기 때문에 **프로세스의 메모리 한계에 따라 생성할 수 있는 쓰레드의 수가 결정**된다.

### 멀티쓰레딩
멀티쓰레딩은 하나의 프로세스내에서 여러 쓰레드가 동시에 작업을 수행하는 것

### 멀티쓰테딩의 장점 
- CPU의 사용률을 향상시킨다.
- 자원을 보다 효율적으로 사용할 수 있다.
- 사용자에 대한 응답성이 향상된다.
- 작업이 분리되어 코드가 간결해진다.

### 멀티쓰레딩의 단점 
- 여러 쓰레드가 같은 프로세스 내에서 자원을 공유하면서 작업을 하기 때문에 발생할 수 있는 동기화(synchronization), 교착상태(deadlock)와 같은 문제를 고려해서 신중하게 프로그래밍해야 한다.


## 쓰레드의 구현과 실행
- Thread클래스를 상속받는 방법과 Runnable인터페이스를 구현하는 방법이 있다.
- Thread클래스를 상속받으면 다른 클래스를 상속받을 수 없기 때문에 Runnable 인터페이스를 구현하는 방법이 일반적이다.

```
1. Thread 클래스를 상속
class MyThread extends Thread {
	// Thread 클래스의 run()을 오버라이딩
	public void run() {   
		// 작업내용
	}
}

```

```
2. Runnable 인터페이스를 구현
class MyThread implements Runnable {
	// Runnable 인터페이스의 run()을 구현
	public void run() {
		// 작업내용
	}
}
```
> Runnable 인터페이스는 오로지 run만 정의되어 있는 간단한 인터페이스 이다.
```
public interface Runnable {
	public abstract void run();
}
```

#### day17/ThreadEx1.java



### 쓰레드의 실행 - start()


## start()와 run()

### main 쓰레드


## 싱글쓰레드와 멀티쓰레드


## 쓰레드의 우선순위

## 쓰레드 그룹(thread group)

## 데몬 쓰레드(daemon thread)

## 쓰레드의 실행제어


### sleep(long millis) - 일정시간 동안 쓰레드를 멈추게 한다.


### interrupt()와 interrupted() - 쓰레드의 작업을 취소한다.

### suspend(), resume(), stop()

### yield() - 다른 쓰레드에게 양보한다.

### join() - 다른 쓰레드의 작업을 기다린다.


## 쓰레드의 동기화
### synchronized를 이용한 동기화

### volatile

####  volatile로 long과 double을 원자화