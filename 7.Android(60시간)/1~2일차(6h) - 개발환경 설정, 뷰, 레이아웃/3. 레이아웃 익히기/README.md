# 레이아웃 기초 익히기
- 뷰를 배치할 때 사용하는 레이아웃에 대해 살펴봅니다. 안드로이드 스튜디오에서는 기본적인 레이아웃을 제약 레이아웃(Contraint Layout)으로 자동 설정합니다.

## 제약 조건 이해하기

- 제약 레이아웃의 가장 큰 특징은 뷰의 위치를 결정할 때 제약 조건(Constraint)을 사용한다는 것입니다.
- 제약 조건이란 뷰가 레이아웃 안의 다른 요소와 어떻게 연결되었는지 알려주는 것으로, 뷰의 연결점(Anchor Point)과 대상(Target)을 연결합니다. 
- 다음 그림을 보면 제약 레이아웃 안에 버튼이 하나 있습니다. 이때 버튼의 입장에서 자신을 감싸고 있는 레이아웃을 부모 레이아웃(Parent Layout)이라고 부를 수 있습니다. 그리고 버튼은 위, 아래, 왼쪽, 오른쪽 각 연결점을 가지고 있으며 작은 동그라미로 표시됩니다.

![image1](https://raw.githubusercontent.com/yonggyo1125/curriculum300H/main/7.Android(60%EC%8B%9C%EA%B0%84)/1~2%EC%9D%BC%EC%B0%A8(6h)%20-%20%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95%2C%20%EB%B7%B0%2C%20%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83/images/layouts/image1.png)

- 핸들(Side Contraints Handle)이라고 부르는 연결점은 마우스 커서로 잡아서 조절할 수 있습니다. 이 연결점이 무엇을 어떻게 할 수 있는지가 중요합니다. 여기서 적용하고 싶은 제약 조건은 '버튼의 왼쪽을 부모 레이아웃과 연결해 주세요.'입니다. 이 경우에 버튼의 왼쪽 연결점을 부모 레이아웃의 왼쪽 벽면과 연결합니다. 그러면 부모 레이아웃이 타깃(Target)이 되어 연결점과 해당 타깃이 연결됩니다. 이렇게 연결점과 타깃이 연결되면 연결선이 만들어지고 연결점은 파랗게 표시됩니다.

- 버튼이 레이아웃 안에서 어디에 위치하고 있는지 결정하려면 적어도 왼쪽과 위쪽에 연결되어 있어야 합니다. 따라서 버튼의 위쪽 연결점과 부모 레이아웃의 위쪽 벽면을 연결하는 것까지 진행하면 버튼의 제약 조건은 완성이 됩니다. 물론 오른쪽 연결점과 아래쪽 연결점도 타깃과 연결할 수 있지만 꼭 필요한 제약조건은 두 개면 됩니다.

- 연결선을 만들 때는 뷰의 연결점과 타깃이 필요한데, 다음과 같은 것들이 타깃이 될 수 있습니다.
	- 같은 부모 레이아웃 안에 들어 있는 다른 뷰의 연결점
	- 부모 레이아웃의 연결점
	- 가이드라인(Guideline)
	
- 그리고 대상 뷰의 타깃의 연결점으로는 다음과 같은 것들이 될 수 있습니다.
	- 위쪽(Top), 아래쪽(Bottom), 왼쪽(Left), 오른쪽(Right)
	- 가로축의 가운데(CenterX), 세로축의 가운데(CenterY)
	- 베이스라인(Baseline) -> 텍스트를 보여주는 뷰인 경우에만 적용됨

- 여기에서 왼쪽과 오른쪽은 각각 Left, Right라는 단어로 표현하기도 하고 Start, End라는 단어로 표현하기도 합니다. 이런 단어들은 나중에 XML 코드를 직접 변경할 때 필요하므로 기억하면 좋습니다. 가운데에도 넓쩍한 표시의 베이스라인 연결점이 있는데, 이것은 텍스트가 있을 경우 다른 뷰의 텍스트와 높이를 맞춰주는 역할을 합니다.

### 예제

- 먼저 열려있는 안드로이드 스튜디오 창의 위쪽 메뉴 중에서 [File -> Close Project] 메뉴를 선택하면 시작화면으로 돌아갑니다.
- 시작화면에서 [New Project] 메뉴를 눌러 새로운 프로젝트를 만드는 대화상자를 띄웁니다. 
- 화면은 Empty Activity로 선택하고 [Next] 버튼을 누른 후 새로운 프로젝트의 이름은 SampleConstraintLayout으로 입력합니다.
- 패키지 이름이나 프로젝트가 저장될 폴더는 이전에 설정했던 정보를 사용하기 때문에 자동으로 입력됩니다.
- [Finish] 버튼을 눌러서 새로운 프로젝트를 만듭니다.

![image2](https://raw.githubusercontent.com/yonggyo1125/curriculum300H/main/7.Android(60%EC%8B%9C%EA%B0%84)/1~2%EC%9D%BC%EC%B0%A8(6h)%20-%20%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95%2C%20%EB%B7%B0%2C%20%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83/images/layouts/image2.png)

- 새로운 프로젝트가 만들어지면 프로젝트 창의 가운데 작업 영역에서 [activity_main.xml] 탭을 눌러 XML 레이아웃 파일을 엽니다. 
- 디자인 화면이 표시되면 사각형 폰 모양 안에 글자가 하나 들어 있습니다. 먼저 화면 가운데에 있는 글자를 선택하고 [Delete]를 눌러 삭제합니다. 그리고 왼쪽의 팔레트 \<Palette\>에서 버튼을 가져다 화면 왼쪽 윗부분에 딱 맞게 붙이지 말고 약간 떨어뜨립니다.

![image3](https://raw.githubusercontent.com/yonggyo1125/curriculum300H/main/7.Android(60%EC%8B%9C%EA%B0%84)/1~2%EC%9D%BC%EC%B0%A8(6h)%20-%20%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95%2C%20%EB%B7%B0%2C%20%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83/images/layouts/image3.png)

- 버튼의 왼쪽 연결점을 끌어다가 부모 레이아웃의 벽면에 같다 놓으면 새로운 제약조건이 생성되면서 연결선이 표시됩니다.
- 오른쪽 속성 창의 가운데 부분에는 뷰의 제약조건을 표시하는 그림이 있는데 그 그림에도 왼쪽 연결선이 표시됩니다.

![image4](https://raw.githubusercontent.com/yonggyo1125/curriculum300H/main/7.Android(60%EC%8B%9C%EA%B0%84)/1~2%EC%9D%BC%EC%B0%A8(6h)%20-%20%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95%2C%20%EB%B7%B0%2C%20%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83/images/layouts/image4.png)

- 이렇게 속성 창의 그림에서는 설정된 제약조건(Contraint)이 표시됩니다. 오른쪽 창에 보이는 연결선에는 0이라는 숫자가 적혀 있습니다. 이 숫자는 여러분이 버튼을 어느 위치에 놓았는지에 따라 달라질 수 있습니다.
- 이 숫자는 보통 마진(Margin)이라고 부르며 연결점과 타깃과의 거리를 나타냅니다. 즉, 버튼이 왼쪽 벽면과 얼마나 떨어져있는지를 나타내는 값입니다. 화면에서 버튼을 끌어당기면 이 값을 조절할 수 있습니다.
- 또는 직접 숫자를 입력하여 얼마나 떨어뜨릴지 거리를 지정할 수도 있습니다. 이 숫자를 클릭한 후 마진(Left Margin)을 80으로 수정하고 [Enter]를 누릅니다. 그러면 버튼과 왼쪽 벽면 사이의 간격이 입력된 수치만큼 넓어집니다.
- 이어서 버튼의 위쪽 연결점과 위쪽 벽면도 연결한 후 연결선에 표시된 마진(Top Margin) 값을 80으로 수정합니다.

![image5](https://raw.githubusercontent.com/yonggyo1125/curriculum300H/main/7.Android(60%EC%8B%9C%EA%B0%84)/1~2%EC%9D%BC%EC%B0%A8(6h)%20-%20%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95%2C%20%EB%B7%B0%2C%20%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83/images/layouts/image5.png)

- 왼쪽과 위쪽에서 어느 정도 떨어진 위치에 배치되었습니다. 
- 이번에는 왼쪽 팔레트에서 버튼 하나를 더 끌어다가 화면에 배치되어 있는 버튼 오른쪽에 놓습니다. 새로운 버튼을 추가할 때 기존에 있던 버튼의 세로 위치를 맞출 수 있도록 점선이 표시되기 때문에 버튼 오른쪽에 쉽게 배치할 수 있습니다. 
- 새로 추가한 버튼의 왼쪽 연결점을 끌어다 기존 버튼의 오른쪽 연결점과 연결합니다. 그리고 위쪽 연결점을 끌어다 화면의 위쪽 벽면과 연결합니다.
- 오른쪽 속성 창에서 위쪽 연결선의 마진(Top Margin)값은 80으로 변경하고 왼쪽 연결선의 마진(Left Margin) 값은 40으로 변경합니다.

![image6](https://raw.githubusercontent.com/yonggyo1125/curriculum300H/main/7.Android(60%EC%8B%9C%EA%B0%84)/1~2%EC%9D%BC%EC%B0%A8(6h)%20-%20%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95%2C%20%EB%B7%B0%2C%20%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83/images/layouts/image6.png)

- 새로 추가한 버튼의 왼쪽 연결점을 기존 버튼과 연결하면 기존 버튼의 타깃이 되면서 새로운 연결선이 만들어집니다. 그리고 마진을 조절하면 두 개의 버튼이 적절한 위치에 배치되도록 만들 수 있습니다.


## 화면 가운데 뷰 배치하기

- 화면에 뷰를 넣고 배치할 때는 왼쪽 윗부분부터 차례대로 추가하는 것이 일반적이지만 가운데나 아래쪽 부터 추가할 때도 있습니다. 그중에서 가운데 또는 가운데에서 약간 아래쪽이나 위쪽에 뷰를 추가하는 경우도 생깁니다. 
- 예를 들어, 로그인 화면을 만들 때 아이디나 비밀번호를 입력하는 입력상자와 로그인 버튼은 가운데 부분에 모아둡니다. 이런 경우에는 입력상자와 버튼이 함께 모여 있으니 이것들을 담아둘 레이아웃을 하나 만든 후 최상위 레이아웃의 가운데 부분에 넣는 것이 좋습니다.

- 먼저 왼쪽 팔레트에서 버튼을 화면 가운데 부분에 끌어다 놓습니다. 그러면 버튼의 위, 아래, 왼쪽, 오른쪽 연결점이 자동으로 연결되면서 화면 가운데 버튼이 배치됩니다.
- 만약 디자인 화면 상단에 있는 자석 모양의 아이콘(Autoconnect)이 활성화된 상태가 아니면 각각의 연결점을 직접 연결해야 합니다. 
- 즉, 버튼의 위, 아래, 왼쪽, 오른쪽 연결점을 각각 화면의 네 벽면에 직접 드래그해서 끌어다 놓아야만 버튼의 연결점이 연결됩니다.

![image7](https://raw.githubusercontent.com/yonggyo1125/curriculum300H/main/7.Android(60%EC%8B%9C%EA%B0%84)/1~2%EC%9D%BC%EC%B0%A8(6h)%20-%20%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95%2C%20%EB%B7%B0%2C%20%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83/images/layouts/image7.png)

- 뷰는 가로축과 세로축을 기준으로 배치됩니다. 그런데 가로축에 해당하는 왼쪽과 오른쪽에 모두 연결선이 만들어지는 경우에는 양쪽 타깃 중간에 위치하게 됩니다. 세로축도 마찬가지여서 위쪽과 아래쪽에 모두 연결선이 만들어지는 경우라고 타깃 중간에 위치하게 됩니다. 결국 화면 전체를 차지하고 있는 최상위 레이아웃 안에 추가된 버튼에 가로축과 세로축 모두 양쪽으로 연결선을 만들어주면 버튼을 화면 가운데 부분에 위치시킬 수 있습니다.

- 만약 정확히 한 가운데가 아니라 약간 위쪽으로 치우치거나 왼쪽으로 치우치게 만들고 싶다면, 오른쪽 속성 창에 보이는 레이아웃 속성에서 왼쪽 끝에 있는 줄이 세로 방향 바이어스(Vertical Bias)입니다. 그리고 아래쪽 끝에 있는 줄이 가로방향 바이어스(Horizontal Bias)입니다.

- 바이어스는 한쪽으로 얼마나 치우쳐 있는지를 나타내는 것으로 기본 값은 50입니다. 즉, 앞에서 설명한 대로 양쪽 타깃의 중간에 위치하도록 설정되어 있습니다. 왼쪽에 있는 세로 방향 바이어스의 가운데 원 모양을 잡아서 위쪽으로 잡아끌면 그 값이 변경되면서 버튼이 위쪽으로 올라갑니다. 세로 방향 바이어스의 값이 35가 될 때까지 올린 후 놓으면 버튼은 위쪽으로 부터 35%되는 지점에 위치하게 됩니다.

![image8](https://raw.githubusercontent.com/yonggyo1125/curriculum300H/main/7.Android(60%EC%8B%9C%EA%B0%84)/1~2%EC%9D%BC%EC%B0%A8(6h)%20-%20%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95%2C%20%EB%B7%B0%2C%20%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83/images/layouts/image8.png)

- 바이어스는 화면의 비율로 나눈 후 어느 곳에 위치시킬지를 결정하는 값입니다. 바이어스의 값은 0부터 1사이의 값이 되므로 35% 지점은 0.35로 설정할 수 있습니다. 다만 XML 원본 파일에서는 0.35 값으로 설정한다고 하더라도 디자인 화면에 표시될 때는 % 단위로 표시됩니다.

- 뷰의 크기를 더 크게 하고 싶다면 버튼을 선택한 후 각 모서리에 표시된 작은 사각형 점을 끌어당기면 됩니다. 가운데에 추가한 버튼을 선택한 후 오른쪽 아래의 모서리를 끌어당겨 좀 더 크게 만듭니다.

![image9](https://raw.githubusercontent.com/yonggyo1125/curriculum300H/main/7.Android(60%EC%8B%9C%EA%B0%84)/1~2%EC%9D%BC%EC%B0%A8(6h)%20-%20%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95%2C%20%EB%B7%B0%2C%20%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83/images/layouts/image9.png)

- 오른쪽 속성 창의 제약 조건이 표시되는 그림을 보면 뷰의 안쪽에 있는 선들이 방향을 나타내던 꺽은선 에서 직선으로 바뀐 것을 확인할 수 있습니다. 
- 사각현 안쪽에 있는 선은 뷰의 layout_width와 layout_height가 어떻게 설정되었는지 표시합니다. 사각형 안쪽의 선을 마우스로 클릭하면 layout_width와 layout_height의 값을 손쉽게 바꿀 수도 있습니다. 

- 다음 세가지의 경우를 비교하면서 살펴보세요.
- <b>(1) 부모 여유 공간 채우기</b> : 연결선이 구불한 선으로 표시됨(layout_width의 값은 match_contraint나 0dp로 설정됨)
	
![image10](https://raw.githubusercontent.com/yonggyo1125/curriculum300H/main/7.Android(60%EC%8B%9C%EA%B0%84)/1~2%EC%9D%BC%EC%B0%A8(6h)%20-%20%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95%2C%20%EB%B7%B0%2C%20%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83/images/layouts/image10.png)

- <b>(2) 뷰의 내용 채우기</b> : 사각형 안쪽의 선이 중앙을 향하는 화살표로 표시됨(layout_width 값은 wrap_content로 설정됨)

![image11](https://raw.githubusercontent.com/yonggyo1125/curriculum300H/main/7.Android(60%EC%8B%9C%EA%B0%84)/1~2%EC%9D%BC%EC%B0%A8(6h)%20-%20%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95%2C%20%EB%B7%B0%2C%20%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83/images/layouts/image11.png)

- <b>(3) 고정 크기</b> : 사각형 안쪽의 선이 직선으로 표시됨(layout_width와 layout_height의 값은 지정한 값으로 설정됨)

![image12](https://raw.githubusercontent.com/yonggyo1125/curriculum300H/main/7.Android(60%EC%8B%9C%EA%B0%84)/1~2%EC%9D%BC%EC%B0%A8(6h)%20-%20%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95%2C%20%EB%B7%B0%2C%20%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83/images/layouts/image12.png)

- 안쪽에 있는 가로 방향 선을 클릭하면 구불구불한 선이나 중앙으로 향하는 화살표가 표시되거나 또는 직선이 표시됩니다. 이 각각의 선 모양이 의미하는 것이 무엇인지 이해하면 설정되어 있는 제약조건을 파악할 수 있습니다.

- 예를 들어, 부모 레이아웃의 여유 공간을 꽉 채워주는 구불구불한 선의 크기를 match_constraint나 0dp로 설정하고, 제약 조건(Contraint)을 이용해 부모 레이아웃의 여유 공간을 채우는 방식으로 적용됩니다. 여기에서 여유 공간(Available Space)이란 해당 뷰가 차지할 수 있는 공간을 의미합니다.

- 만약 화면의 왼쪽 상단에 버튼을 하나 추가했다면 버튼의 오른쪽와 아래쪽에 공간이 많이 남아있을 것입니다. 이 여유 공간은 부모 레이아웃이 어떤 것인가에 따라 달라집니다. 
- 예를 들어, 리니어 레이아웃(LinearLayout)의 경우에는 한쪽 방향으로만 뷰를 추가하는 레이아웃이므로 하나의 버튼을 세로 방향으로 추가했다면 그 버튼의 좌우에 공간이 남아 있어도 버튼을 추가할 수 없습니다.
- 하지만 지금 사용하고 있는 제약 레이아웃의 경우에는 뷰를 담고 있는 부모 레이아웃 안에서 크기나 위치를 마음대로 조절할 수 있습니다.

## 가이드라인 사용하기

- 가이드라인(Guideline)은 여러 개의 뷰를 일정한 기준 선에 정렬할 때 사용합니다.

![image13](https://raw.githubusercontent.com/yonggyo1125/curriculum300H/main/7.Android(60%EC%8B%9C%EA%B0%84)/1~2%EC%9D%BC%EC%B0%A8(6h)%20-%20%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD%20%EC%84%A4%EC%A0%95%2C%20%EB%B7%B0%2C%20%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83/images/layouts/image13.png)

